# 图形界面说明 (display.py)

## 启动

```bash
python display.py
```

需要安装 pygame：`pip install pygame`

---

## 界面布局

```
┌─────────────────────────────────┐
│ ← → [策略名]      [棋盘尺寸] ← → │  ← 顶部栏
├─────────────────────────────────┤
│                                 │
│           棋盘区域               │
│                                 │
├─────────────────────────────────┤
│  Round N | Your/AI's Turn | vs  │  ← 状态栏
│ [Play with X]  [R]  [Play with O]│  ← 底部按钮
└─────────────────────────────────┘
```

---

## 顶部栏

### 左侧：策略选择器
- `←` / `→` 按钮切换 AI 策略
- 当前可用策略：
  - **Random**：随机落子（所有棋盘尺寸可用）
  - **Perfect AI**：完整博弈树求解的最优 AI（仅 3×3 可用）

### 右侧：棋盘尺寸选择器
- `←` / `→` 按钮切换棋盘配置
- 当前可用配置：
  - **3×3**：3×3 棋盘，每方保留 3 步
  - **4×4 (4-move)**：4×4 棋盘，每方保留 4 步（Perfect AI 尚未完成）

切换棋盘尺寸会自动重置游戏。

---

## 底部按钮

| 按钮 | 说明 |
|------|------|
| **Play with X** | 玩家执 X（先手），点击后游戏开始 |
| **R** | 重置棋盘（不开始新游戏） |
| **Play with O** | 玩家执 O（后手），AI 先落子 |

---

## 棋子视觉

棋子颜色根据"新旧程度"渐变：

- **新棋子**：颜色鲜艳（X 为亮红，O 为亮蓝）
- **旧棋子**：颜色逐渐变淡
- **即将消失的棋子**（最旧且已达上限）：显示为最淡色，提示下一步会消失

这让玩家一眼就能判断哪些棋子快要消失。

---

## 状态栏

游戏进行中显示：`Round N | [Your/AI's] Turn (X/O) | vs [策略名]`

- **Your Turn**：轮到玩家落子
- **AI's Turn**：AI 正在（或即将）落子

---

## 扩展：添加新策略

在 `display.py` 的 `strategy_catalog` 中添加条目：

```python
{
    "name": "My Strategy",
    "module": my_strategy_module,
    "description": "描述",
    "supported_configs": [(3, 3), (4, 4)]  # 支持的棋盘配置
}
```

策略模块需要实现 `Strategy` 类，提供 `make_move()` 方法。
