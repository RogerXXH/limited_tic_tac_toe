# 井字棋项目 - 待办事项

## 🎯 当前进度

### ✅ 已完成
- [x] 代码重构：agents → strategies
- [x] UI 现代化：渐变、圆角、阴影、悬停效果
- [x] 策略选择器：左右箭头切换 AI 对手
- [x] 策略缓存机制：消除切换卡顿
- [x] 布局修复：按钮居中、获胜文字位置优化
- [x] **阶段2：显示回合信息** - 状态栏实时显示游戏状态
- [x] 游戏流程修复：R按钮不会启动游戏

### 🚧 下一步
- [ ] **阶段3：AI vs AI 观战模式**

---

## 📅 UI 优化路线图

### 🥇 阶段2：显示回合信息
**优先级：高** | **预计时间：15分钟**

在界面上显示游戏状态信息：
- [ ] 当前回合数（Round 1, Round 2...）
- [ ] 轮到谁（Your Turn (X) / AI's Turn (O)）
- [ ] 当前对手名称（已有，可优化显示）

**UI设计方案：**
- 位置：棋盘和底部按钮之间
- 样式：现代化文字显示，带圆角背景
- 颜色：使用棋子颜色标识（X用红色，O用蓝色）

**实现要点：**
```python
# 显示内容示例
"Round 5 | Your Turn (X) | vs Perfect AI"
"Round 3 | AI's Turn (O) | vs Random"
```

---

### 🥈 阶段3：AI vs AI 观战模式
**优先级：中** | **预计时间：1小时**

添加AI对战观战功能：
- [ ] 新增 "Watch AI Battle" 按钮
- [ ] 选择两个AI进行对战
- [ ] 自动播放对局
- [ ] 速度控制（慢速、正常、快速）
- [ ] 暂停/继续功能
- [ ] 显示对战统计（胜率、平局率）

**UI设计方案：**
- 位置：底部按钮栏新增第4个按钮
- 或：替换 "Play with X/O" 按钮，改为模式选择界面

**实现要点：**
```python
# 观战模式界面
[AI 1: Perfect AI ▼] vs [AI 2: Random ▼]
Speed: [1x] [2x] [5x]  [▶️ Start] [⏸️ Pause]
```

---

### 🥉 阶段4：棋盘配置选择
**优先级：中** | **预计时间：45分钟**

支持不同棋盘大小和规则：
- [ ] 棋盘大小选择（3x3, 4x4, 5x5）
- [ ] 最大步数选择（3, 4, 5）
- [ ] 动态调整UI适配不同尺寸

**UI设计方案：**
- 位置：策略选择器旁边，或独立的设置菜单
- 样式：下拉选择框或滑块

**实现要点：**
```python
Board: [3x3 ▼]  Max Moves: [3 ▼]
```

**注意事项：**
- Perfect AI (3x3) 只支持 3x3 棋盘
- 需要根据棋盘大小调整窗口尺寸
- 4x4 和 5x5 可能需要不同的AI策略

---

### 🔧 阶段5：设置和自定义
**优先级：低** | **预计时间：2小时**

高级设置和个性化选项：
- [ ] 主题选择（亮色/暗色模式）
- [ ] 自定义颜色方案
- [ ] 音效开关
- [ ] 动画速度调整
- [ ] 保存用户偏好设置

---

## 🎨 未来功能想法

### 游戏体验增强
- [ ] 添加音效（落子声、获胜音乐）
- [ ] 动画效果（棋子落下动画、获胜连线动画）
- [ ] 粒子效果（获胜时的庆祝特效）
- [ ] 游戏历史记录和回放

### AI 策略扩展
- [ ] 实现 Minimax 算法（中等难度）
- [ ] 实现 Alpha-Beta 剪枝优化
- [ ] 完善 Perfect Strategy (4x4)
- [ ] 添加 MCTS (蒙特卡洛树搜索)
- [ ] AI 难度等级选择

### 多人功能
- [ ] 本地双人对战（热座模式）
- [ ] 网络联机对战
- [ ] 观战和回放分享

### 数据统计
- [ ] 玩家统计（胜率、总局数）
- [ ] AI 性能分析
- [ ] 战绩排行榜

### UI/UX 改进
- [ ] 响应式布局（支持窗口缩放）
- [ ] 多语言支持（中文/英文切换）
- [ ] 键盘快捷键
- [ ] 撤销/重做功能
- [ ] 游戏教程和提示系统

---

## 🐛 已知问题

### 待修复
- [ ] Perfect Strategy (4x4) 未完成实现
- [ ] 部分系统字体不支持 Unicode 符号（已用图形替代）

### 性能优化
- [ ] 预渲染渐变背景（避免每帧重绘）
- [ ] 优化阴影绘制（减少重复计算）
- [ ] 缓存已渲染的UI元素

---

## 📝 开发笔记

### 技术债务
- agents/ 目录仍存在，考虑删除
- gamebase.py 和 Game.py 功能重复，需要整合

### 代码质量
- 考虑添加类型注解（Type Hints）
- 添加单元测试
- 代码文档化（Docstrings）

---

**最后更新：** 2026-02-04
**负责人：** xiaohu + Claude Sonnet 4.5
